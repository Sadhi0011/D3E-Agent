(Model EmployeeReportTo {
    name 'Employee Report To'
    allowDynamicReport true
    properties [
        (employee {
            type ({
                model #Employee
            })
            required true
        })
        (reportsTo {
            type ({
                model #Employee
            })
            required true
        })
        (reportingMethod {
            name 'Reporting Method'
            type ({
                model #ReportingMethod
            })
            required true
            referenceFrom `employee != null ? employee.company.reportingMethods : reportsTo.company.reportingMethods`
        })
    ]
    display `reportsTo.name`
})