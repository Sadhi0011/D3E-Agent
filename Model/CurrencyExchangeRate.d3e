(Model CurrencyExchangeRate {
    name 'Currency Exchange Rate'
    
    master #Company
    package 'rewa.hr.2'
    properties [
        (from {
            name 'From'
            type ({
                model #Currency
            })
            required true
        })
        (to {
            name 'To'
            type ({
                model #Currency
            })
            required true
        })
        (rate {
            name 'Rate'
            type ({
                primitive Double
            })
            required true
        })
        (applicableFrom {
            name 'Applicable From'
            type ({
                primitive Date
            })
            required true
        })
        (applicableTo {
            name 'Applicable To'
            type ({
                primitive Date
            })
            required true
        })
        (lastUsedDate {
            name 'Last Used Date'
            type ({
                primitive Date
            })
        })
        (history {
            type ({
                model #CurrencyExchangeRateHistory
            })
            inverse true
            collection true
            inverseProperty #currenciesExchangeRate
        })
    ]
     actions [
        (onCreateCurrencyExangeRate {
            runOn OnCreate
            block ```
                CompanyUtil.createCurrenciesExchangeRateHistory(this, this.company);
            ```
        })
        (onUpdateCurrencyExcghange {
            runOn OnUpdate
            block ```
                 CompanyUtil.createCurrenciesExchangeRateHistory(this, this.company);
            ```
        })
    ]
})